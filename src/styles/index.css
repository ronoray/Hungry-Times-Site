@tailwind base;
@tailwind components;
@tailwind utilities;

:root { color-scheme: dark; }
html, body, #root { height: 100%; }

.container-section { @apply max-w-6xl mx-auto px-4; }
.card { @apply bg-neutral-900/70 border border-neutral-800 rounded-2xl shadow-soft; }
.btn { @apply inline-flex items-center justify-center rounded-full px-4 py-2 font-medium transition; }
.btn-primary { @apply bg-brand-red hover:bg-brand-redDark text-white; }
.btn-ghost { @apply bg-transparent hover:bg-neutral-800 border border-neutral-700; }

@layer base {
  html, body, #root { height: 100%; }
  /* Prevent mobile auto text zoom that was exploding line breaks */
  html { -webkit-text-size-adjust: 100%; text-size-adjust: 100%; }
  body {
    @apply bg-[#0B0B0B] text-white;
    font-family: ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji","Segoe UI Emoji";
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    overflow-x: hidden; /* stop any accidental sideways scroll */
  }
}

/* ============================================
   MOBILE BOTTOM NAVIGATION FIX
   ============================================ */

@layer utilities {
  .pb-safe {
    padding-bottom: env(safe-area-inset-bottom, 0);
  }
}

@media (max-width: 767px) {
  /* Add bottom padding to body for bottom nav + iOS safe area */
  body {
    padding-bottom: calc(5rem + env(safe-area-inset-bottom, 0px)) !important;
  }

  /* Ensure bottom nav is always visible and respects iOS home indicator */
  nav.fixed.bottom-0 {
    z-index: 9999 !important;
    padding-bottom: env(safe-area-inset-bottom, 0px);
  }
}

/* Touch behavior - prevent double-tap zoom on interactive elements */
button, a, [role="button"], input[type="button"], input[type="submit"] {
  touch-action: manipulation;
}

/* iOS safe-area helpers */
@supports (padding: max(0px)) {
  .safe-area-bottom {
    padding-bottom: max(0.5rem, env(safe-area-inset-bottom));
  }
}